"../fiftstdlib/Fift.fif" include
"../fiftstdlib/Asm.fif" include

PROGRAM{
  0 DECLMETHOD addivmod_pos
  1 DECLMETHOD addivmod_neg
  2 DECLMETHOD addivmodc_pos
  3 DECLMETHOD addivmodc_neg
  4 DECLMETHOD addivmodr_pos
  5 DECLMETHOD addivmodr_neg
  6 DECLMETHOD div_zero
  7 DECLMETHOD divc_zero
  8 DECLMETHOD divr_zero
  9 DECLMETHOD modpow2_neg
  10 DECLMETHOD modpow2c_neg
  11 DECLMETHOD modpow2r_neg
  12 DECLMETHOD div_overflow
  13 DECLMETHOD divc_overflow
  14 DECLMETHOD divr_overflow
  15 DECLMETHOD divmod_overflow
  16 DECLMETHOD divmodc_overflow
  17 DECLMETHOD divmodr_overflow
  18 DECLMETHOD modpow2_big
  19 DECLMETHOD modpow2c_big
  20 DECLMETHOD modpow2r_big
  21 DECLMETHOD rshiftr_neg
  22 DECLMETHOD rshiftc_neg
  23 DECLMETHOD rshiftr_big
  24 DECLMETHOD rshiftc_big
  25 DECLMETHOD rshiftmod_var_neg
  26 DECLMETHOD rshiftmodc_var_neg
  27 DECLMETHOD rshiftmodr_var_neg
  addivmod_pos PROC:<{
      255 PUSHPOW2
      255 PUSHPOW2
      1 PUSHINT
      ADDDIVMOD
  }>
  addivmod_neg PROC:<{
      255 PUSHPOW2
      -2 PUSHINT
      MUL
      -1 PUSHINT
      1 PUSHINT
      ADDDIVMOD
  }>
  addivmodc_pos PROC:<{
      255 PUSHPOW2
      255 PUSHPOW2
      1 PUSHINT
      ADDDIVMODC
  }>
  addivmodc_neg PROC:<{
      255 PUSHPOW2
      -2 PUSHINT
      MUL
      -1 PUSHINT
      1 PUSHINT
      ADDDIVMODC
  }>
  addivmodr_pos PROC:<{
      255 PUSHPOW2
      255 PUSHPOW2
      1 PUSHINT
      ADDDIVMODR
  }>
  addivmodr_neg PROC:<{
      255 PUSHPOW2
      -2 PUSHINT
      MUL
      -1 PUSHINT
      1 PUSHINT
      ADDDIVMODR
  }>
  div_zero PROC:<{
      1 PUSHINT
      0 PUSHINT
      DIV
  }>
  divc_zero PROC:<{
      1 PUSHINT
      0 PUSHINT
      DIVC
  }>
  divr_zero PROC:<{
      1 PUSHINT
      0 PUSHINT
      DIVR
  }>
  modpow2_neg PROC:<{
      3 PUSHINT
      -2 PUSHINT
      MODPOW2
  }>
  modpow2c_neg PROC:<{
      3 PUSHINT
      -2 PUSHINT
      MODPOW2C
  }>
  modpow2r_neg PROC:<{
      3 PUSHINT
      -2 PUSHINT
      MODPOW2R
  }>
  div_overflow PROC:<{
      255 PUSHPOW2
      -2 PUSHINT
      MUL
      -1 PUSHINT
      DIV
  }>
  divc_overflow PROC:<{
      255 PUSHPOW2
      -2 PUSHINT
      MUL
      -1 PUSHINT
      DIVC
  }>
  divr_overflow PROC:<{
      255 PUSHPOW2
      -2 PUSHINT
      MUL
      -1 PUSHINT
      DIVR
  }>
  divmod_overflow PROC:<{
      255 PUSHPOW2
      -2 PUSHINT
      MUL
      -1 PUSHINT
      DIVMOD
  }>
  divmodc_overflow PROC:<{
      255 PUSHPOW2
      -2 PUSHINT
      MUL
      -1 PUSHINT
      DIVMODC
  }>
  divmodr_overflow PROC:<{
      255 PUSHPOW2
      -2 PUSHINT
      MUL
      -1 PUSHINT
      DIVMODR
  }>
  modpow2_big PROC:<{
      3 PUSHINT
      257 PUSHINT
      MODPOW2
  }>
  modpow2c_big PROC:<{
      3 PUSHINT
      257 PUSHINT
      MODPOW2C
  }>
  modpow2r_big PROC:<{
      3 PUSHINT
      257 PUSHINT
      MODPOW2R
  }>
  modpow2_var_big PROC:<{
      3 PUSHINT
      257 PUSHINT
      MODPOW2
  }>
  modpow2c_var_big PROC:<{
      3 PUSHINT
      257 PUSHINT
      MODPOW2C
  }>
  modpow2r_big PROC:<{
      3 PUSHINT
      257 PUSHINT
      MODPOW2R
  }>
  rshiftr_neg PROC:<{
      9 PUSHINT
      -1 PUSHINT
      RSHIFTR
  }>
  rshiftc_neg PROC:<{
      9 PUSHINT
      -1 PUSHINT
      RSHIFTC
  }>
  rshiftr_big PROC:<{
      9 PUSHINT
      257 PUSHINT
      RSHIFTR
  }>
  rshiftc_big PROC:<{
      9 PUSHINT
      257 PUSHINT
      RSHIFTC
  }>
  rshiftmod_var_neg PROC:<{
      -7 PUSHINT
      -1 PUSHINT
      RSHIFTMOD
  }>
  rshiftmodc_var_neg PROC:<{
      -7 PUSHINT
      -1 PUSHINT
      RSHIFTMODC
  }>
  rshiftmodr_var_neg PROC:<{
      -7 PUSHINT
      -1 PUSHINT
      RSHIFTMODR
  }>
}END>c